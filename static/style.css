:root {
    --bg-dark: radial-gradient(ellipse at 50% 0%, hsl(220, 40%, 15%) 0%, #06080D 80%);
    --text-dark: #e0e0e0;
    --text-muted-dark: #a0a0a0;
    --text-header-dark: #ffffff;
    --card-bg-dark: #1c1c1e;
    --nav-bg-dark: #121212;
    --nav-active-dark: #333333;
    --link-dark: #15BCF8;
    --link-hover-dark: #49d0fc;
    --border-dark: rgba(255, 255, 255, 0.1);

    --bg-light: radial-gradient(ellipse at 50% 0%, hsl(195, 100%, 85%) 0%, #ffffff 70%);
    --text-light: #222222;
    --text-muted-light: #555555;
    --text-header-light: #000000;
    --card-bg-light: #ffffff;
    --nav-bg-light: rgba(255, 255, 255, 0.85);
    --nav-active-light: #e0e0e0;
    --link-light: #0077cc;
    --link-hover-light: #0099ff;
    --border-light: rgba(0, 0, 0, 0.1);
}

@keyframes fadeInFromLeft{from{opacity:0;transform:translateX(-20px);filter:blur(5px)}to{opacity:1;transform:translateX(0);filter:blur(0)}}@keyframes floatUp{from{opacity:0;transform:translateY(15px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes shine{from{transform:skewX(-25deg) translateX(-150%)}to{transform:skewX(-25deg) translateX(250%)}}@keyframes spin{to{transform:rotate(360deg)}}

body {
    background-image: var(--bg-dark);
    color: var(--text-dark);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    min-height: 100vh;
    transition: background-image .5s ease, color .5s ease;
}
body[data-theme=light] {
    background-image: var(--bg-light);
    color: var(--text-light);
}

.wrapper{display:flex;width:100%;min-height:100vh}
.sidebar{width:280px;padding:40px 30px;display:flex;flex-direction:column;flex-shrink:0;animation:fadeInFromLeft .7s ease-in-out forwards}
.main-content{flex-grow:1;padding:80px 60px 40px;overflow-y:auto;animation:fadeInFromLeft .7s ease-in-out forwards}
.main-content>header,.main-content>article,.main-content>.profile-layout{animation:floatUp .8s .2s ease-out forwards;opacity:0}
.main-content.full-width>header,.main-content.full-width>article{max-width:1280px;margin-left:auto;margin-right:auto}
.main-content.full-width>header{text-align:center}

.sidebar-title{font-size:28px;color:var(--text-header-dark);margin:0 0 50px;font-weight:600}
body[data-theme=light] .sidebar-title{color:var(--text-header-light)}
.sidebar-nav ul{list-style:none;padding:0;margin:0}
.sidebar-nav li{margin-bottom:20px}
.sidebar-nav a{color:var(--text-muted-dark);text-decoration:none;font-size:16px;transition:color .3s ease}
body[data-theme=light] .sidebar-nav a{color:var(--text-muted-light)}
.sidebar-nav a::before{content:'â€”';margin-right:15px;color:#666}
.sidebar-nav a:hover{color:var(--text-header-dark)}
body[data-theme=light] .sidebar-nav a:hover{color:var(--text-header-light)}

.top-nav{position:fixed;top:20px;left:50%;transform:translateX(-50%);background-color:var(--nav-bg-dark);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid var(--border-dark);border-radius:9999px;padding:6px;display:flex;align-items:center;gap:6px;z-index:100}
body[data-theme=light] .top-nav{background-color:var(--nav-bg-light);border:1px solid var(--border-light)}
.nav-item{padding:8px 16px;color:var(--text-muted-dark);text-decoration:none;display:flex;align-items:center;justify-content:center;border-radius:9999px;transition:background-color .3s ease,color .3s ease;background-color:transparent;border:none;cursor:pointer;font-size:14px;font-weight:500;white-space:nowrap;gap:8px}
body[data-theme=light] .nav-item{color:var(--text-muted-light)}
.nav-item svg{width:20px;height:20px;stroke:currentColor}
.nav-item:hover{background-color:rgba(255,255,255,.1);color:var(--text-header-dark)}
body[data-theme=light] .nav-item:hover{background-color:rgba(0,0,0,.05);color:var(--text-header-light)}
.nav-item.active{background-color:var(--nav-active-dark);color:var(--text-header-dark)}
body[data-theme=light] .nav-item.active{background-color:var(--nav-active-light);color:var(--text-header-light)}

.main-content header h2, .tasks-section h2 {font-size:42px;font-weight:700;color:var(--text-header-dark);margin-top:0;margin-bottom:30px}
body[data-theme=light] .main-content header h2, body[data-theme=light] .tasks-section h2 {color:var(--text-header-light)}
.main-content article p{font-size:18px;line-height:1.7;color:var(--text-dark);max-width:800px}
body[data-theme=light] .main-content article p{color:var(--text-light)}
.section-divider{border:none;height:1px;background-color:var(--border-dark);margin:40px 0}
body[data-theme=light] .section-divider{background-color:var(--border-light)}

.flash-messages{margin-bottom:20px}.flash{padding:15px;border-radius:8px;color:#fff;font-weight:500}.flash.success{background-color:#28a745}.flash.danger{background-color:#dc3545}.loading-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);backdrop-filter:blur(5px);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000;color:#fff}.loader{border:5px solid #f3f3f3;border-top:5px solid var(--link-dark);border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite;margin-bottom:20px}

.glcm-tool-container,.glcm-results-container{background-color:var(--card-bg-dark);border:1px solid var(--border-dark);border-radius:16px;padding:30px;margin-top:30px}
body[data-theme=light] .glcm-tool-container,body[data-theme=light] .glcm-results-container{background-color:var(--card-bg-light);border:1px solid var(--border-light);box-shadow:0 4px 15px rgba(0,0,0,.05)}
.glcm-form{display:flex;flex-wrap:wrap;align-items:flex-end;gap:20px}.form-group{display:flex;flex-direction:column}.form-group label{font-size:14px;color:var(--text-muted-dark);margin-bottom:8px}body[data-theme=light] .form-group label{color:var(--text-muted-light)}input[type=file]{display:none}.custom-file-upload{background-color:#2a2a2d;border:1px solid var(--border-dark);border-radius:8px;padding:10px 15px;cursor:pointer;transition:background-color .3s ease;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:250px}body[data-theme=light] .custom-file-upload{background-color:#f0f0f0;border-color:var(--border-light)}.custom-file-upload:hover{background-color:#3a3a3d}body[data-theme=light] .custom-file-upload:hover{background-color:#e0e0e0}#angle-select,.number-input{background-color:#2a2a2d;color:var(--text-dark);border:1px solid var(--border-dark);border-radius:8px;padding:10px 15px;font-size:16px}body[data-theme=light] #angle-select,body[data-theme=light] .number-input{background-color:#f0f0f0;color:var(--text-light);border-color:var(--border-light)}#angle-select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 15px center}body[data-theme=light] #angle-select{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='black' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E")}.number-input{width:100px}.btn-submit{background-color:var(--link-dark);color:#000;padding:10px 25px;border-radius:8px;border:none;font-weight:700;font-size:16px;cursor:pointer;transition:all .3s ease}.btn-submit:hover{background-color:var(--link-hover-dark);transform:translateY(-2px);box-shadow:0 4px 10px rgba(21,188,248,.3)}body[data-theme=light] .btn-submit{background-color:var(--link-light);color:#fff}body[data-theme=light] .btn-submit:hover{background-color:var(--link-hover-light);box-shadow:0 4px 10px rgba(0,119,204,.3)}

.results-header{margin-bottom:20px}
.results-header h3{font-size:24px;font-weight:600;margin:0;color:var(--text-header-dark)}
body[data-theme=light] .results-header h3{color:var(--text-header-light)}
.results-subheader{font-size:16px;color:var(--text-muted-dark);margin:5px 0 0}
body[data-theme=light] .results-subheader{color:var(--text-muted-light)}

.main-results-grid{display:grid;grid-template-columns:3fr 1fr;gap:30px;align-items:start}
.feature-maps-container h4,.global-properties-container h4{font-size:18px;color:var(--text-header-dark);margin:0 0 15px}
body[data-theme=light] .feature-maps-container h4,body[data-theme=light] .global-properties-container h4{color:var(--text-header-light)}
.feature-maps-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:15px}
.map-item h6{font-size:12px;font-weight:500;color:var(--text-header-dark);margin:0 0 8px;text-align:center}
body[data-theme=light] .map-item h6{color:var(--text-header-light)}
.map-item img{width:100%;border-radius:8px;border:1px solid var(--border-dark);aspect-ratio:1/1;object-fit:cover}
body[data-theme=light] .map-item img{border-color:var(--border-light)}

.properties-list{list-style:none;padding:0;margin:0;background-color:#2a2a2d;border-radius:12px;overflow:hidden;border:1px solid var(--border-dark)}
body[data-theme=light] .properties-list{background-color:#f7f7f7;border-color:var(--border-light)}
.properties-list li{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;border-bottom:1px solid var(--border-dark)}
.properties-list li:last-child{border-bottom:none}
body[data-theme=light] .properties-list li{border-color:var(--border-light)}
.property-name{font-weight:500;color:var(--text-dark)}
body[data-theme=light] .property-name{color:var(--text-light)}
.property-value{font-family:"SF Mono","Fira Code","Source Code Pro",monospace;font-size:16px;font-weight:600;color:var(--link-dark)}
body[data-theme=light] .property-value{color:var(--link-light)}

.project-grid {display: grid; grid-template-columns: repeat(auto-fit, 280px); justify-content: center; gap: 30px;}
.project-card {width: 280px; box-sizing: border-box; background-color: var(--card-bg-dark); border-radius: 16px; overflow: hidden; border: 1px solid var(--border-dark); transition: transform .3s ease, box-shadow .3s ease; display: flex; flex-direction: column;}
body[data-theme='light'] .project-card {background-color: var(--card-bg-light); border: 1px solid var(--border-light); box-shadow: 0 4px 15px rgba(0,0,0,0.05);}
.project-card:hover {transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);}
body[data-theme='light'] .project-card:hover {box-shadow: 0 8px 25px rgba(0,0,0,0.1);}
.project-card .card-image img {width: 100%; height: auto; display: block;}
.project-card .card-content {padding: 20px; display: flex; flex-direction: column; flex-grow: 1;}
.project-card .card-title {font-size: 20px; font-weight: 600; color: var(--text-header-dark); margin: 0 0 10px 0;}
body[data-theme='light'] .project-card .card-title {color: var(--text-header-light);}
.project-card .card-description {font-size: 13px; color: var(--text-muted-dark); line-height: 1.5; margin-bottom: 20px; flex-grow: 1;}
body[data-theme='light'] .project-card .card-description {color: var(--text-muted-light);}
.project-card .card-links {display: flex; gap: 20px;}
.project-card .card-link {color: #3399ff; text-decoration: none; font-size: 14px; font-weight: 500; transition: color .3s ease;}
.project-card .card-link:hover {color: #66b3ff;}

.profile-layout{display:flex;gap:80px}
.profile-sidebar-custom{width:300px;flex-shrink:0;position:sticky;top:120px;align-self:flex-start;height:calc(100vh - 160px)}
.profile-info{display:flex;flex-direction:column;align-items:flex-start}
.profile-picture{width:150px;height:150px;border-radius:50%;margin-bottom:20px;object-fit:cover}
.profile-name{font-size:36px;font-weight:700;color:var(--text-header-dark);margin:0 0 5px}
body[data-theme=light] .profile-name{color:var(--text-header-light)}
.profile-id{font-size:18px;color:var(--text-muted-dark);margin:0 0 10px}
body[data-theme=light] .profile-id{color:var(--text-muted-light)}
.social-links{display:flex;gap:10px;margin-bottom:20px}.social-btn{position:relative;overflow:hidden;display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:9999px;background-color:hsla(205,87%,40%,.5);border:1px solid hsla(205,87%,50%,.6);color:var(--text-header-dark);text-decoration:none;font-size:14px;transition:all .3s ease}.social-btn::after{content:'';position:absolute;top:0;left:0;width:50%;height:100%;background:linear-gradient(90deg,transparent 0,rgba(255,255,255,.2) 50%,transparent 100%);transform:skewX(-25deg) translateX(-250%);animation:shine 5s infinite}.social-btn:hover{background-color:hsla(205,87%,45%,.6);transform:translateY(-2px)}body[data-theme=light] .social-btn{background-color:hsla(205,87%,50%,.2);border-color:hsla(205,87%,50%,.4);color:var(--text-header-light)}body[data-theme=light] .social-btn:hover{background-color:hsla(205,87%,50%,.3)}.social-btn svg{width:16px;height:16px}
.profile-description{font-size:16px;color:var(--text-dark);line-height:1.7}
body[data-theme=light] .profile-description{color:var(--text-light)}
.profile-main{flex-grow:1;padding-top:0}
.tasks-section h2 {
    font-size: 64px;
    font-weight: 700;
    color: var(--text-header-dark);
    margin-bottom: 40px;
}
body[data-theme=light] .tasks-section h2 {
    color: var(--text-header-light);
}
